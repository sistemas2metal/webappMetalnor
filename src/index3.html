<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firebase Auth</title>
    <!-- BOOSTRAP CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <!-- TOSTIFY-->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    <!-- MAIN -->
    <link rel="stylesheet" href="./main.css">

    <script src="./main.js" defer type="module"></script>
</head>

<body>
    <nav class="navbar navbar-expand-lg bg-dark border-bottom border-body" data-bs-theme="dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">Fireapp</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item logged-out">
                        <a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#signinModal">Signin</a>
                    </li>
                    <li class="nav-item logged-out">
                        <a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#signupModal">Signup</a>
                    </li>
                    </li>
                    <li class="nav-item logged-in">
                        <a class="nav-link" href="#" id="logout">Logout</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>



    <div class="d-flex justify-content-center align-items-center">
        <!-------------------------------------CAMBIAR PASSWORD-------------------------------->
        <div class="d-flex align-items-center justify-content-center">
            <button type="button" href="#" data-bs-toggle="modal" data-bs-target="#editPass"
                class="btn btn-outline-info mb-2">Cambiar contraseña</button>
        </div>
        <!------------------------------------ABM PUBLICIDAD------------------------------------>
        <div class="d-inline-flex flex-wrap justify-content">
            <button type="button" href="#" data-bs-toggle="modal" data-bs-target="#abmPublicidad"
                class="btn btn-outline-info mb-2 mx-3">ABM Publicidad</button>
        </div>
        <!------------------------------------ABM PREMIOS------------------------------------>
        <div class="d-inline-flex flex-wrap justify-content">
            <button type="button" href="#" data-bs-toggle="modal" data-bs-target="#abmPremios"
                class="btn btn-outline-info mb-2">ABM Premios</button>
        </div>
        <!------------------------------------ABM PUNTOS------------------------------------>
        <div class="d-inline-flex flex-wrap justify-content">
            <button type="button" href="#" data-bs-toggle="modal" data-bs-target="#abmPuntos"
                class="btn btn-outline-info mb-2 mx-3">ABM Puntos</button>
        </div>
        <!------------------------------------SELECTOR DE PREMIOS------------------------------------>
        <div class="d-inline-flex flex-wrap justify-content">
            <button type="button" href="#" data-bs-toggle="modal" data-bs-target="#selectorPremios"
                class="btn btn-outline-info mb-2">Selector de premios</button>
        </div>
    </div>


    <!------------------------------------MODAL ABM PREMIOS------------------------------------>
    <div class="modal fade" id="abmPremios" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content bg-dark">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="modalABMPremios">ABM Premios</h1>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="abmpremios-form" class="form-inline">
                        <div class="mb-3 d-flex align-items-center">
                            <label for="inputTitulo" class="col-sm-2 col-form-label">Título:</label>
                            <input type="text" id="inputTitulo" style="color:black" class="form-control mb-2">
                        </div>
                        <div class="mb-3 d-flex align-items-center">
                            <label for="inputDetalle" class="col-sm-2 col-form-label">Detalle:</label>
                            <textarea class="form-control mb-2" required style="color:black" id="inputDetalle"
                                rows="3"></textarea>
                        </div>
                        <div class="mb-3 d-flex align-items-left">
                            <label for="inputPuntos" class="col-sm-2 col-form-label">Puntos:</label>
                            <input type="number" id="inputPuntos" style="width: 30%;" required style="color:black"
                                class="form-control">
                        </div>
                        <div class="mb-3 d-flex align-items-center">
                            <label for="inputImagen" class="col-sm-2 col-form-label">Imagen:</label>
                            <input class="form-control mt-2" type="file" required id="inputImagen" multiple>
                        </div>
                        <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                            <button type="submit" class="btn btn-primary mt-4">Aceptar</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!------------------------------------MODAL ABM PUNTOS------------------------------------>
    <div class="modal fade" id="abmPuntos" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content bg-dark">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="modalABMPuntos">ABM Puntos</h1>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="abmpuntos-form" class="form-inline">
                        <div class="col-auto d-flex align-items-center">
                            <label for="inputPuntos" class="col-form-label me-2">Puntos:</label>
                            <input type="number" id="inputPuntos" style="width: 40%; color:black" required
                                class="form-control">
                            <div class="d-flex flex-column ms-3">
                                <button type="button" id="agregarPuntos" class="btn btn-success mb-2">Agregar</button>
                                <button type="button" id="quitarPuntos" class="btn btn-danger">Quitar</button>
                            </div>
                        </div>
                        <div class="d-grid gap-2 col-6 mx-auto mt-4">
                            <button type="submit" class="btn btn-primary">Aceptar</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>


    <!------------------------------------MODAL ABM PUBLICIDAD------------------------------------>
    <div class="modal fade" id="abmPublicidad" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content bg-dark">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="modalABMPublicidad">ABM Publicidad</h1>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="abmpublicidad-form" class="form-inline">
                        <div class="mb-3 d-flex align-items-center">
                            <label for="inputTitulo" class="col-sm-2 col-form-label">Título:</label>
                            <input type="text" id="inputTitulo" style="color:black" class="form-control mb-2">
                        </div>
                        <div class="mb-3 d-flex align-items-center">
                            <label for="inputDesde" class="col-sm-2 col-form-label">Desde:</label>
                            <input type="date" id="inputDesde" required style="color:black" class="form-control mb-2">
                        </div>
                        <div class="mb-3 d-flex align-items-center">
                            <label for="inputHasta" class="col-sm-2 col-form-label">Hasta:</label>
                            <input type="date" id="inputHasta" required style="color:black" class="form-control mb-2">
                        </div>
                        <div class="mb-3 d-flex align-items-center">
                            <input class="form-control" type="file" required id="inputFiles" multiple>
                        </div>
                        <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                            <button type="submit" class="btn btn-primary mt-4">Aceptar</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>







    <!------------------------------------MODAL SELECTOR DE PREMIOS------------------------------------>
    <div class="modal fade" id="selectorPremios" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content bg-dark">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="modalABMPremios">Selector de Premios</h1>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="selectorpremios-form" class="form-inline">
                        <div class="row row-cols-3">
                            <div class="col tarjetaPremios">
                                <div class="card" style="max-width: 18rem;">
                                    <img src="./image.png" id="imgPremio" class="card-img-top" alt="...">
                                    <div class="card-body">
                                        <h5 id="tituloPremio" class="card-title">Card title</h5>
                                        <p id="detallePremio" class="card-text">This is a longer card with supporting
                                            text below as a natural lead-in to additional
                                            content. This content is a little bit longer.</p>
                                    </div>
                                    <div class="card-footer d-flex justify-content-between align-items-center">
                                        <h5 id="cantidadPuntos" class="badge text-bg-warning">5000 Puntos</h5>
                                        <a href="#" class="btn btn-primary ms-auto mb-2">Seleccionar</a>
                                    </div>
                                </div>
                            </div>
                            <div class="col tarjetaPremios">
                                <div class="card" style="max-width: 18rem;">
                                    <img src="./image.png" id="imgPremio" class="card-img-top" alt="...">
                                    <div class="card-body">
                                        <h5 id="tituloPremio" class="card-title">Card title</h5>
                                        <p id="detallePremio" class="card-text">Lorem ipsum dolor sit amet, consectetur
                                            adipiscing elit. Praesent viverra scelerisque lectus, non tempor ante varius
                                            sit
                                            amet. Donec condimentum, enim non eleifend interdum, orci nunc rhoncus
                                            metus, eget finibus dui lorem lacinia ante. Cras
                                            in semper erat, eu ultricies justo. Etiam ac justo quam. Quisque tempor nisl
                                            metus, nec ornare mauris consectetur non.
                                            In cursus nisi metus, in mollis sapien imperdiet ut. Nullam id urna dui.</p>
                                    </div>
                                    <div class="card-footer d-flex justify-content-between align-items-center">
                                        <h5 id="cantidadPuntos" class="badge text-bg-warning">5000 Puntos</h5>
                                        <a href="#" class="btn btn-primary ms-auto mb-2">Seleccionar</a>
                                    </div>
                                </div>
                            </div>
                            <div class="col tarjetaPremios">
                                <div class="card" style="max-width: 18rem;">
                                    <img src="./image.png" id="imgPremio" class="card-img-top" alt="...">
                                    <div class="card-body">
                                        <h5 id="tituloPremio" class="card-title">Card title</h5>
                                        <p id="detallePremio" class="card-text">This is a longer card with supporting
                                            text below as a natural lead-in to additional
                                            content. This content is a little bit longer.</p>
                                    </div>
                                    <div class="card-footer d-flex justify-content-between align-items-center">
                                        <h5 id="cantidadPuntos" class="badge text-bg-warning">5000 Puntos</h5>
                                        <a href="#" class="btn btn-primary ms-auto mb-2">Seleccionar</a>
                                    </div>
                                </div>
                            </div>
                            <div class="col tarjetaPremios">
                                <div class="card" style="max-width: 18rem;">
                                    <img src="./image.png" id="imgPremio" class="card-img-top" alt="...">
                                    <div class="card-body">
                                        <h5 id="tituloPremio" class="card-title">Card title</h5>
                                        <p id="detallePremio" class="card-text">This is a longer card with supporting
                                        </p>
                                    </div>
                                    <div class="card-footer d-flex justify-content-between align-items-center">
                                        <h5 id="cantidadPuntos" class="badge text-bg-warning">5000 Puntos</h5>
                                        <a href="#" class="btn btn-primary ms-auto mb-2">Seleccionar</a>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>







    <!----------------------------------MODAL CAMBIAR PASSWORD------------------------------>
    <div class="modal fade" id="editPass" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content bg-dark">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="modalPassword">Editar Contraseña</h1>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="editpass-form">
                        <label for="inputPassword">Escriba su nueva contraseña:</label>
                        <input type="password" id="inputPassword1" style="color:black" class="form-control mb-3"
                            placeholder="*******" required aria-describedby="passwordHelpBlock">
                        <div class="col-auto">
                            <span id="passwordHelpInline" class="form-text" style="color: #ebdd19">
                                Debe contener más de 8 caracteres, una mayúscula y un caractér especial.
                            </span>
                        </div>


                        <label for=" inputPassword2">Repita su contraseña:</label>
                        <input type="password" id="inputPassword2" style="color:black" class="form-control mb-3"
                            placeholder="*******" required aria-describedby="passwordHelpBlock">

                        <button type="submit" class="btn btn-primary">Aceptar</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <Script>//Comprueba que ambas contraseñas coincidan y tengan mayúsculas y símbolos
        document.getElementById('editpass-form').addEventListener('submit', function (even) {
            event.preventDefault();
            let clave1 = document.getElementById('inputPassword1').value;
            let clave2 = document.getElementById('inputPassword2').value;

            // Validacion de mayúsculas y símbolos
            const passCheck = /^(?=.*[A-Z])(?=.*[!@#$&*]).{8,}$/;

            if (clave1 != clave2) {
                alert("Las contraseñas no coinciden");
                document.getElementById('inputPassword1').value = '';
                document.getElementById('inputPassword2').value = '';
            } else if (!passCheck.test(clave1)) {
                alert("La contraseña debe tener más de 8 caracteres, al menos una mayúscula y un carácter");
            } else {
                this.submit();
            }
        })
    </Script>










    <!------------------------------------------------------------------------------->
    </div>
    <!--  SignupModal -->
    <div class="modal fade" id="signupModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content bg-dark">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="exampleModalLabel">Signup</h1>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="signup-form">
                        <label for="email">Email:</label>
                        <input type="email" id="signup-email" style="color:black" class="form-control mb-3"
                            placeholder="Email" required>

                        <label for="email">Password:</label>
                        <input type="password" id="signup-password" class="form-control mb-3" placeholder="*******"
                            required>

                        <button type="submit" class="btn btn-primary">Register</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!--  SigninModal -->
    <div class="modal fade" id="signinModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content bg-dark">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="exampleModalLabel">Registrar</h1>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="login-form">
                        <label for="email">Email:</label>
                        <input type="email" id='login-email' class="form-control mb-3" placeholder="Email" required>

                        <label for="email">Password:</label>
                        <input type="password" id='login-password' class="form-control mb-3" placeholder="*******"
                            required>

                        <button type="submit" class="btn btn-primary w-100 mb-4">Login </button>
                    </form>
                    <button type="button" id="googleLogin" class="btn btn-info">
                        Google
                    </button>
                </div>
            </div>
        </div>
    </div>



    <!--Codigo de Bootstrap-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Código de Tostify-->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
</body>

</html>